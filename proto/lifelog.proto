syntax = "proto3";

package lifelog;

service GRPCServerServices {
    rpc RegisterCollector(CollectorRegistrationRequest) returns (CollectorRegistrationResponse);
}

service GRPCClientServices {

    rpc GetStatus(CollectorStatusRequest) returns (CollectorStatusResponse);
    rpc UpdateConfig(CollectorConfig) returns (ConfigAck);
    rpc QueryDataFromCollector(CollectorQuery) returns (CollectorData);
  };

message CollectorStatusRequest {
  // this is empty
}

message CollectorQuery {
  string id = 1;
  string query = 2;
}

message ConfigAck {
  bool success = 1;
}

message CollectorStatusResponse {
  string status = 1;
}

message CollectorConfig {
    string config =1;
}

message CollectorRegistrationRequest {
    string file_type = 1;
    string config = 2;
}

message CollectorRegistrationResponse {
    bool success = 1;
}

message CollectorData {
    string id = 1;
    bytes data = 2;
}


message DataAck {
    bool success = 1;
}
