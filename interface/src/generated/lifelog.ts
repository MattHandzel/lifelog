// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.11.2
//   protoc               v3.19.1
// source: lifelog.proto

/* eslint-disable */
import type {
  CollectorConfig,
  CollectorState,
  LifelogData,
  StreamIdentity,
  SystemConfig,
  SystemState,
  Timerange,
} from "./lifelog_types";

export enum CommandType {
  BeginUploadSession = 0,
  PauseCapture = 1,
  ResumeCapture = 2,
  UpdateConfig = 3,
  UNRECOGNIZED = -1,
}

export interface RegisterCollectorRequest {
  config?: CollectorConfig | undefined;
}

export interface RegisterCollectorResponse {
  success: boolean;
  sessionId: number;
}

export interface GetCollectorConfigRequest {
}

export interface GetCollectorConfigResponse {
  config?: CollectorConfig | undefined;
}

export interface GetSystemConfigRequest {
}

export interface GetSystemConfigResponse {
  config?: SystemConfig | undefined;
}

export interface SetSystemConfigRequest {
  config?: CollectorConfig | undefined;
}

export interface SetSystemConfigResponse {
  success: boolean;
}

export interface SetCollectorConfigRequest {
  config?: CollectorConfig | undefined;
}

export interface SetCollectorConfigResponse {
  success: boolean;
}

export interface GetDataRequest {
  keys: LifelogDataKey[];
}

export interface GetDataResponse {
  data: LifelogData[];
}

/** This is a message that the interface will send to the server to get the data it wants */
export interface Query {
  /** These are the sources the query will search through. It will search through the OR of the sources. It will return the OR of the source. For example, if the user has two laptop's then they can specify what laptop they want to search through. This is useful for when the user has multiple devices and wants to search through a specific one. */
  searchOrigins: string[];
  /** These are the sources the query will return data from. It will return the OR of the sources. In the example it is browser usage, but we can also select the laptop screen and it would return both sources for the user. */
  returnOrigins: string[];
  /** This is the time ranges, specified, it will search through the OR of the time ranges. */
  timeRanges: Timerange[];
  /** This is an image embedding the user wants to search through */
  imageEmbedding?:
    | Embedding
    | undefined;
  /** This is the text embedding the user wants to search through */
  textEmbedding?:
    | Embedding
    | undefined;
  /** Text to search through this database */
  text: string[];
}

export interface LifelogDataKey {
  uuid: string;
  origin: string;
}

export interface QueryRequest {
  /** TODO: Change this to be the query data type we define */
  query?: Query | undefined;
}

export interface QueryResponse {
  /** TODO: Change this to be the query data type we define */
  keys: LifelogDataKey[];
}

export interface GetStateRequest {
}

export interface GetCollectorStateResponse {
  state?: CollectorState | undefined;
}

export interface GetSystemStateResponse {
  state?: SystemState | undefined;
}

export interface ReportStateRequest {
  state?: CollectorState | undefined;
}

export interface ReportStateResponse {
  acknowledged: boolean;
}

export interface Chunk {
  stream?: StreamIdentity | undefined;
  offset: number;
  data: Uint8Array;
  /** sha256 hex */
  hash: string;
}

export interface Ack {
  stream?: StreamIdentity | undefined;
  ackedOffset: number;
}

export interface GetUploadOffsetRequest {
  stream?: StreamIdentity | undefined;
}

export interface GetUploadOffsetResponse {
  offset: number;
}

export interface Embedding {
  embedding: number[];
}

export interface ServerCommand {
  type: CommandType;
  /** JSON or specialized message */
  payload: string;
}

export interface SuggestUploadRequest {
  charging: boolean;
  idle: boolean;
  onLan: boolean;
  backlogSize: number;
}

export interface ControlMessage {
  collectorId: string;
  register?: RegisterCollectorRequest | undefined;
  state?: ReportStateRequest | undefined;
  heartbeat?: string | undefined;
  suggestUpload?: SuggestUploadRequest | undefined;
}
